/*Compressed by JSC Version 1.0.25633
GodLikeMouse http://www.godlikemouse.com*/

var facebook_album=new function (){this.getReferenceUri=function (){return "http://developers.facebook.com/docs/reference/fql/album/";};this.getList=function (facebookid,functionCallBack){var objid=(facebookid)?facebookid:FB.getSession().uid;var query=$.format('SELECT aid, object_id, owner, cover_object_id, name, created, description, size FROM album WHERE owner = %d',objid);js2fb.helper.callFqlQuery(query,functionCallBack);};this.get=function (objid,functionCallBack){var query=$.format('SELECT object_id, owner, cover_object_id, name, created, description, size FROM album WHERE object_id = %d',objid);js2fb.helper.callFqlQuery(query,functionCallBack);};this.getListFromFriends=function (facebookid,functionCallBack){var objid=(facebookid)?facebookid:FB.getSession().uid;var query=$.format('SELECT aid, object_id, owner, cover_object_id, name, created, description, size FROM album WHERE owner in (SELECT uid2 FROM friend WHERE uid1 =  %d) LIMIT 500',objid);js2fb.helper.callFqlQuery(query,functionCallBack);};};﻿var facebook_enums=new function (){this.sex={male:'male',female:'female'};this.relationShipStatus={Single:'Single',In_a_Relationship:'In a Relationship',In_an_Open_Relationship:'In an Open Relationship',Engaged:'Engaged',Married:'Married',It_is_Complicated:'It\'is Complicated',Widowed:'Widowed'};this.eventStatus={attending:'attending',unsure:'unsure',declined:'declined',not_replied:'not_replied'};};﻿var facebook_event=new function (){this.getReferenceUri=function (){return ["http://developers.facebook.com/docs/reference/fql/event/","http://developers.facebook.com/docs/reference/fql/event_member/"];};this.getList=function (facebookid,functionCallBack){var objid=(facebookid)?facebookid:FB.getSession().uid;var query=$.format('SELECT eid, name, pic, description, start_time, end_time, creator, location FROM event WHERE eid in (SELECT eid FROM event_member where uid = %d)',objid);js2fb.helper.callFqlQuery(query,functionCallBack);};this.getListCreated=function (facebookid,functionCallBack){var objid=(facebookid)?facebookid:FB.getSession().uid;var query=$.format('SELECT eid, name, pic, description, start_time, end_time, creator, location FROM event WHERE creator = %d',objid);js2fb.helper.callFqlQuery(query,functionCallBack);};this.getListByStatus=function (facebookid,rsvp_status,functionCallBack){var objid=(facebookid)?facebookid:FB.getSession().uid;var query=$.format('SELECT eid, name, pic, description, start_time, end_time, creator, location FROM event WHERE eid in (SELECT eid FROM event_member where rsvp_status=\'%s\' and uid = %d)',[rsvp_status,objid]);js2fb.helper.callFqlQuery(query,functionCallBack);};this.getMembers=function (eventid,functionCallBack){var query=$.format('SELECT uid, first_name, last_name, name, sex, username FROM user WHERE uid in (SELECT uid from event_member where eid=%d)',eventid);js2fb.helper.callFqlQuery(query,functionCallBack);};this.getMembersByStatus=function (eventid,rsvp_status,functionCallBack){var query=$.format('SELECT uid, first_name, last_name, name, sex, username FROM user WHERE uid in (SELECT uid from event_member where eid=%d and rsvp_status=\'%s\')',[eventid,rsvp_status]);js2fb.helper.callFqlQuery(query,functionCallBack);};this.getListCreatedFromFriends=function (facebookid,functionCallBack){var objid=(facebookid)?facebookid:FB.getSession().uid;var query=$.format('SELECT eid, name, pic, description, start_time, end_time, creator, location FROM event WHERE creator in (SELECT uid2 FROM friend WHERE uid1=%d)',objid);js2fb.helper.callFqlQuery(query,functionCallBack);};this.getListFromFriends=function (facebookid,functionCallBack){var objid=(facebookid)?facebookid:FB.getSession().uid;var query=$.format('SELECT eid, name, pic, description, start_time, end_time, creator, location FROM event WHERE eid in (SELECT eid from event_member where uid in (SELECT uid2 FROM friend WHERE uid1=%d))',objid);js2fb.helper.callFqlQuery(query,functionCallBack);};this.getListFromFriendsByStatus=function (facebookid,rsvp_status,functionCallBack){var objid=(facebookid)?facebookid:FB.getSession().uid;var query=$.format('SELECT eid, name, pic, description, start_time, end_time, creator, location FROM event WHERE eid in (SELECT eid from event_member where rsvp_status=\'%s\' and uid in (SELECT uid2 FROM friend WHERE uid1=%d))',[rsvp_status,objid]);js2fb.helper.callFqlQuery(query,functionCallBack);};};﻿var facebook_friend=new function (){this.getReferenceUri=function (){return "http://developers.facebook.com/docs/reference/fql/friend/";};this.getList=function (facebookid,functionCallBack){var objid=(facebookid)?facebookid:FB.getSession().uid;var query=$.format('SELECT uid, first_name, last_name, name, sex, username, relationship_status FROM user WHERE uid in (SELECT uid2 FROM friend WHERE uid1=%d)',objid);js2fb.helper.callFqlQuery(query,functionCallBack);};this.getListBySex=function (facebookid,sex,functionCallBack){var objid=(facebookid)?facebookid:FB.getSession().uid;var query=$.format('SELECT uid, first_name, last_name, name, sex, username, relationship_status FROM user WHERE sex=\'%s\' and uid in (SELECT uid2 FROM friend WHERE uid1=%d)',[sex,objid]);js2fb.helper.callFqlQuery(query,functionCallBack);};this.getListByRelationshipStatus=function (facebookid,relationship_status,functionCallBack){var objid=(facebookid)?facebookid:FB.getSession().uid;var query=$.format('SELECT uid, first_name, last_name, name, sex, username, relationship_status FROM user WHERE relationship_status=\'%s\' and uid in (SELECT uid2 FROM friend WHERE uid1=%d)',[relationship_status,objid]);js2fb.helper.callFqlQuery(query,functionCallBack);};};﻿var facebook_helper=new function (){var loginButtonId='';var logoutButtonId='';this.setLoginButtonId=function (setter){loginButtonId=setter;};this.getLoginButtonId=function (){return loginButtonId;};this.setLogoutButtonId=function (setter){logoutButtonId=setter;};this.getLogoutButtonId=function (){return logoutButtonId;};this.callFqlQuery=function (query,functionCallBack){if(FB.getSession()!=null){FB.api({method:'fql.query',query:query},function (response){facebook_helper.createAndExectuteCallBack(functionCallBack,response);});}else{facebook_helper.newException('the session is null');}};this.makeLoginActions=function (){if(facebook_helper.getLoginButtonId()!='')$('#'+facebook_helper.getLoginButtonId()).hide();if(facebook_helper.getLogoutButtonId()!='')$('#'+facebook_helper.getLogoutButtonId()).show();};this.makeLogoutActions=function (){if(facebook_helper.getLoginButtonId()!='')$('#'+facebook_helper.getLoginButtonId()).show();if(facebook_helper.getLogoutButtonId()!='')$('#'+facebook_helper.getLogoutButtonId()).hide();};this.createAndExectuteCallBack=function (functionCallBack,response){if(functionCallBack&&typeof (functionCallBack)==="function"){var newInstance=function (resp){};newInstance=functionCallBack;newInstance(response);}};this.newException=function (msg){alert(msg);};this.calculateAge=function (birthday){var myDOB=birthday.split('/');var myDate=myDOB[1];var myMonth=myDOB[0];var myYear=myDOB[2];var age="";var now=new Date();var todayDate=now.getDate();var todayMonth=now.getMonth();var todayYear=now.getFullYear();if(myDate<=todayDate){if(myMonth<=todayMonth)age=todayYear-myYear;else if(myMonth>todayMonth)age=todayYear-myYear-1;}else if(myDate>todayDate){if(myMonth<todayMonth)age=todayYear-myYear-1;elseage=todayYear-myYear-1;}return age;};this.calculateMonth=function (birthday){var myDOB=birthday.split('/');var myMonth=myDOB[0];var monthName='';switch(myMonth){case'01':monthName='Enero';break;case'02':monthName='Febrero';break;case'03':monthName='Marzo';break;case'04':monthName='Abril';break;case'05':monthName='Mayo';break;case'06':monthName='Junio';break;case'07':monthName='Julio';break;case'08':monthName='Agosto';break;case'09':monthName='Septiembre';break;case'10':monthName='Octubre';break;case'11':monthName='Noviembre';break;case'12':monthName='Diciembre';break;}return monthName;};this.calculateYear=function (birthday){var myDOB=birthday.split('/');var myYear=myDOB[2];if(!myYear)myYear=0;return myYear;};};﻿var facebook_page=new function (){this.getReferenceUri=function (){return ["http://developers.facebook.com/docs/reference/fql/page/","http://developers.facebook.com/docs/reference/fql/page_fan/","http://developers.facebook.com/docs/reference/fql/page_admin/"];};this.getList=function (facebookid,functionCallBack){var objid=(facebookid)?facebookid:FB.getSession().uid;var query=$.format('SELECT page_id, name, pic, page_url, fan_count, website, mission, products, location FROM page WHERE page_id = (SELECT page_id FROM page_fan where uid=%d)',objid);js2fb.helper.callFqlQuery(query,functionCallBack);};this.getListAdmin=function (facebookid,functionCallBack){var objid=(facebookid)?facebookid:FB.getSession().uid;var query=$.format('SELECT page_id, name, pic, page_url, fan_count, website, mission, products, location FROM page WHERE page_id = (SELECT page_id FROM page_admin where uid=%d)',objid);js2fb.helper.callFqlQuery(query,functionCallBack);};this.getListFromFriends=function (functionCallBack){var objid=FB.getSession().uid;var query=$.format('SELECT page_id, name, pic, page_url, fan_count, website, mission, products, location FROM page WHERE page_id = (SELECT page_id FROM page_fan where uid in (SELECT uid2 FROM friend WHERE uid1=%d))',objid);js2fb.helper.callFqlQuery(query,functionCallBack);};};﻿var facebook_photo=new function (){this.getReferenceUri=function (){return "http://developers.facebook.com/docs/reference/fql/photo/";};this.getList=function (facebookid,functionCallBack){var objid=(facebookid)?facebookid:FB.getSession().uid;var query=$.format('SELECT pid, aid, owner, src_small, src_small_height, src_small_width, src_big, src_big_height, src_big_width, src, src_height, src_width, linkcaption, created, object_id FROM photo WHERE owner = %d',objid);js2fb.helper.callFqlQuery(query,functionCallBack);};this.getListFromFriends=function (facebookid,functionCallBack){var objid=(facebookid)?facebookid:FB.getSession().uid;var query=$.format('SELECT pid, aid, owner, src_small, src_small_height, src_small_width, src_big, src_big_height, src_big_width, src, src_height, src_width, linkcaption, created, object_id FROM photo WHERE owner in ( SELECT uid2 FROM friend where uid1 = %d)',objid);js2fb.helper.callFqlQuery(query,functionCallBack);};};﻿var facebook_publish=new function (){this.getReferenceUri=function (){return "http://developers.facebook.com/docs/reference/api/";};this.feed=function (message,picture,link,name,caption,description,source,functionCallBack){FB.api('/me/feed','post',{message:message,link:link,name:name,description:description,picture:picture,caption:caption,source:source},function (response){js2fb.helper.createAndExectuteCallBack(functionCallBack,response);});};};﻿var facebook_tag=new function (){this.getReferenceUri=function (){return ["http://developers.facebook.com/docs/reference/fql/photo_tag/","http://developers.facebook.com/docs/reference/fql/video_tag/"];};this.getListOfPhotos=function (facebookid,functionCallBack){var objid=(facebookid)?facebookid:FB.getSession().uid;var query=$.format('SELECT pid, aid, owner, src_small, src_small_height, src_small_width, src_big, src_big_height, src_big_width, src, src_height, src_width, linkcaption, created, object_id FROM photo WHERE pid in (SELECT pid FROM photo_tag WHERE subject = %d)',objid);js2fb.helper.callFqlQuery(query,functionCallBack);};this.getListOfPhotos=function (functionCallBack){var objid=FB.getSession().uid;var query=$.format('SELECT pid, aid, owner, src_small, src_small_height, src_small_width, src_big, src_big_height, src_big_width, src, src_height, src_width, linkcaption, created, object_id FROM photo WHERE pid in (SELECT pid FROM photo_tag WHERE subject in (SELECT uid2 FROM friend WHERE uid1 =  %d))',objid);js2fb.helper.callFqlQuery(query,functionCallBack);};this.getListOfPhotos=function (facebookid,functionCallBack){var objid=(facebookid)?facebookid:FB.getSession().uid;var query=$.format('SELECT vid, owner, album_id, title, description, link, thumbnail_link, embed_html, created_time, length, src, src_hq FROM video WHERE vid in (SELECT vid FROM video_tag WHERE subject = %d)',objid);js2fb.helper.callFqlQuery(query,functionCallBack);};this.getListOfPhotos=function (functionCallBack){var objid=FB.getSession().uid;var query=$.format('SELECT vid, owner, album_id, title, description, link, thumbnail_link, embed_html, created_time, length, src, src_hq FROM video WHERE vid in (SELECT vid FROM video_tag WHERE subject in (SELECT uid2 FROM friend WHERE uid1 =  %d))',objid);js2fb.helper.callFqlQuery(query,functionCallBack);};};﻿var facebook_user=new function (){this.getReferenceUri=function (){return "http://developers.facebook.com/docs/reference/fql/user/";};var facebookMe;this.me=function (){if(FB.getSession()==null){facebookMe=null;}return facebookMe;};this.loadMe=function (functionCallBack){if(FB.getSession()!=null){FB.api('/me',function (response){facebookMe=response;js2fb.helper.createAndExectuteCallBack(functionCallBack,response);});}else{js2fb.helper.newException('the session is null');}};this.getStatus=function (facebookid,functionCallBack){var objid=(facebookid)?facebookid:FB.getSession().uid;var query=$.format('SELECT uid, message FROM status WHERE uid = %d LIMIT 1',objid);js2fb.helper.callFqlQuery(query,functionCallBack);};this.getStatusCount=function (facebookid,functionCallBack){var objid=(facebookid)?facebookid:FB.getSession().uid;var query=$.format('SELECT status_id FROM status WHERE uid = %d ',objid);js2fb.helper.callFqlQuery(query,functionCallBack);};this.get=function (facebookid,functionCallBack){var objid=(facebookid)?facebookid:FB.getSession().uid;var query=$.format('SELECT uid, first_name, last_name, name, sex, username, relationship_status, birthday FROM user WHERE uid=%d',objid);js2fb.helper.callFqlQuery(query,functionCallBack);};this.getPicture=function (facebookid){return $.format("http://graph.facebook.com/%d/picture",facebookid);};};﻿var facebook_video=new function (){this.getReferenceUri=function (){return "http://developers.facebook.com/docs/reference/fql/video/";};this.getList=function (facebookid,functionCallBack){var objid=(facebookid)?facebookid:FB.getSession().uid;var query=$.format('SELECT vid, owner, album_id, title, description, link, thumbnail_link, embed_html, created_time, length, src, src_hq FROM video WHERE owner = %d',objid);js2fb.helper.callFqlQuery(query,functionCallBack);};this.getListFromFriends=function (functionCallBack){var objid=FB.getSession().uid;var query=$.format('SELECT vid, owner, album_id, title, description, link, thumbnail_link, embed_html, created_time, length, src, src_hq FROM video WHERE owner in ( SELECT uid2 FROM friend where uid1 = %d)',objid);js2fb.helper.callFqlQuery(query,functionCallBack);};};﻿var js2fb=new function (){var helper=facebook_helper;var user=facebook_user;var album=facebook_album;var friend=facebook_friend;var enums=facebook_enums;var event=facebook_event;var page=facebook_page;var video=facebook_video;var photo=facebook_photo;var tag=facebook_tag;var publish=facebook_publish;this.helper=helper;this.user=user;this.album=album;this.friend=friend;this.enums=enums;this.event=event;this.page=page;this.video=video;this.photo=photo;this.tag=tag;this.publish=publish;this.initAndLogin=function (appId){FB.init({appId:appId,status:true,cookie:true,xfbml:true});if(FB.getSession()!=null){FB.Event.subscribe('auth.login',function (responseLogin){helper.makeLoginActions();});helper.makeLoginActions();;}else{helper.makeLogoutActions();}};this.logout=function (){FB.logout(function (response){helper.makeLogoutActions();});};};